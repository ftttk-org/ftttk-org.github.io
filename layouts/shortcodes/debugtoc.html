{{- $page := .Page -}}
{{- $content := $page.Content -}}

<div class="debug-toc">
  <h3>デバッグ情報</h3>
  <p><strong>ページタイトル:</strong> {{ $page.Title }}</p>
  <p><strong>コンテンツの最初の100文字:</strong></p>
  <pre>{{ substr $content 0 100 }}</pre>
  
  <h4>見出し検索結果:</h4>
  {{- $lines := split $content "\n" -}}
  {{- $found := false -}}
  {{- range $lines -}}
    {{- $line := strings.TrimSpace . -}}
    {{- if hasPrefix $line "#" -}}
      {{- $found = true -}}
      <p>見つかった見出し: <code>{{ $line }}</code></p>
    {{- end -}}
  {{- end -}}
  
  {{- if not $found -}}
    <p>見出しが見つかりませんでした。</p>
  {{- end -}}
</div>

<style>
.debug-toc {
  background: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  padding: 1rem;
  margin: 1rem 0;
  font-family: monospace;
}

.debug-toc pre {
  background: #e9ecef;
  padding: 0.5rem;
  border-radius: 4px;
  overflow-x: auto;
}
</style>
